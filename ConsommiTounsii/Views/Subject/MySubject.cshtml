@model IEnumerable<ConsommiTounsii.Models.Subject>

@{
    ViewBag.Title = "MySubject";
}

<h2>MySubject</h2>


@using (Html.BeginForm())
{
    <br />
    <br />
    <table style="margin-left: 100px;">
        <tr>
            <td>
                <p class="mt-3 mr-2 ml-5">Search: </p>
            </td>
            <td>
                <div style="width: 500px;">
                    @Html.TextBox("subject", null, new { @class = "form-control rounded" })
                </div>
            </td>
            <td>
                <button class="btn btn-primary ml-2" type="submit" style="height: 42px; width: 65px;"><i class="la la-search"></i></button>
            </td>
        </tr>
    </table>
}

@using (Html.BeginForm())
{
    <span class="table-add float-left mb-3 ml-3 ">
        <button class="btn btn-primary iq-bg-primary la la-reply-all">
            <a href="/Subject/Index">All Subject</a>
        </button>
    </span>

}

<span class="table-add float-right mb-3 mr-3">
    <button class="btn btn-sm iq-bg-primary text-white">
        @Html.ActionLink("Create New", "Create", new { }, new { @class = "la la-plus" })
    </button>
</span>


<br />
<br />
<br />
<div class="container">
    <div class="row">
        @foreach (var item in Model)
        {
            <div class="col-sm-12 col-lg-6">
                <div class="iq-card">
                    <div class="iq-card-header d-flex justify-content-between">
                        <div class="iq-header-title">
                            <h4 class="card-title">@Html.DisplayFor(modelItem => item.desc_subject)</h4>
                        </div>
                    </div>
                    <div class="iq-card-body">
                        <p class="card-text">Author: @Html.DisplayFor(modelItem => item.client.email_user)</p>
                        <p class="card-text">Product: @Html.DisplayFor(modelItem => item.product.name_prod)</p>
                        <p class="card-text">
                            Rating:
                            @if (item.rating_subject == 5)
                            {
                                string path = "~/Content/Rating/5.png";
                                <img src="@Url.Content(path)" width="100" height="15" />
                            }
                            @if (item.rating_subject == 4)
                            {
                                string path = "~/Content/Rating/4.png";
                                <img src="@Url.Content(path)" width="90" height="15" />
                            }
                            @if (item.rating_subject == 3)
                            {
                                string path = "~/Content/Rating/3.png";
                                <img src="@Url.Content(path)" width="65" height="15" />
                            }
                            @if (item.rating_subject == 2)
                            {
                                string path = "~/Content/Rating/2.png";
                                <img src="@Url.Content(path)" width="30" height="15" />
                            }
                            @if (item.rating_subject == 1)
                            {
                                string path = "~/Content/Rating/1.png";
                                <img src="@Url.Content(path)" width="20" height="15" />
                            }
                        </p>
                        @Html.ActionLink("Edit", "Edit", new { id = item.id_subject }, new { @class = "btn btn-secondary fa fa-edit " })
                        @Html.ActionLink("Details", "Details", new { id = item.id_subject }, new { @class = "btn btn-success la la-align-justify" })
                        @Html.ActionLink("Delete", "Delete", new { id = item.id_subject }, new { @class = "btn btn-danger la la-close" })
                    </div>
                </div>
            </div>

        }
    </div>
</div>
